/* Custom Properties (CSS Variables) */
:root {
    /* Primary Brand Colors */
    --primary-color: #8c3e88; /* Deep purple */
    --secondary-color: #F5B700; /* Vibrant yellow */
    --accent-color: #E95D0F; /* Bright orange */

    /* Neutral Colors */
    --dark-color: #1e2d3b; /* Dark bluish-grey */
    --light-color: #F8FAFC; /* Off-white */
    --white: #ffffff; /* Pure white */
    --black: #000000; /* Pure black */

    /* Gradients */
    --gradient-1: linear-gradient(45deg, var(--primary-color), #FF0080); /* Purple to Pink */
    --gradient-2: linear-gradient(45deg, var(--secondary-color), var(--accent-color)); /* Yellow to Orange */
    --gradient-bg: linear-gradient(120deg, #1a1a2e, #16213e, #0f3460); /* Dark blue */
    --image-overlay-gradient: linear-gradient(135deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)); /* Dark overlay */

    /* Typography */
    --font-primary: 'Poppins', sans-serif;
    --font-secondary: 'Montserrat', sans-serif;

    /* Spacing & Sizing */
    --header-height: 80px;
    --section-padding-y: 100px;
    --section-padding-x: 5%;
    --max-content-width: 1400px;

    /* Component Specific */
    --border-radius: 12px;
    --button-border-radius: 50px;
    --box-shadow-light: 0 5px 15px rgba(0, 0, 0, 0.1);
    --box-shadow-medium: 0 10px 30px rgba(0, 0, 0, 0.1);

    /* Transitions */
    --transition-speed: 0.3s;
    --transition-timing: ease;
    --transition: all var(--transition-speed) var(--transition-timing);
}

/* Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-primary);
    color: var(--dark-color);
    background-color: var(--white);
    overflow-x: hidden;
    line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-secondary);
    font-weight: 700;
    color: var(--dark-color);
    line-height: 1.2;
}

p {
    line-height: 1.6;
    margin-bottom: 1em;
    color: var(--white);
}

a {
    text-decoration: none;
    color: var(--primary-color);
    transition: var(--transition);
}

/* Reusable Components */
.container {
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: 0 var(--section-padding-x);
}

.btn-primary {
    display: inline-block;
    padding: 12px 28px;
    border-radius: var(--button-border-radius);
    font-weight: 600;
    text-align: center;
    transition: var(--transition);
    cursor: pointer;
    border: none;
    font-size: 16px;
    text-transform: capitalize;
    background: var(--gradient-1);
    color: var(--white);
    box-shadow: 0 5px 15px rgba(var(--primary-color), 0.3);
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(var(--primary-color), 0.4);
}

.section-header {
    text-align: center;
    margin-bottom: 60px;
}

.section-title {
    display: inline-block;
    position: relative;
}

.section-title h2 {
    font-size: 2.5rem;
    margin-bottom: 15px;
    color: var(--dark-color);
}

.underline {
    height: 4px;
    width: 80px;
    background: var(--gradient-1);
    margin: 0 auto;
    border-radius: 4px;
}

/* Header & Navigation */
header {
    position: absolute;
    width: 100%;
    top: 0;
    left: 0;
    z-index: 1000;
    background: transparent;
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px var(--section-padding-x);
    max-width: var(--max-content-width);
    margin: 0 auto;
}

.logo {
    font-size: 24px;
    font-weight: 700;
    color: var(--white);
    display: flex;
    align-items: baseline;
}

.nav-links {
    display: flex;
    gap: 30px;
    align-items: center;
}

.nav-links a {
    color: var(--white);
    font-weight: 500;
    position: relative;
    padding: 5px 0;
}

.nav-links a:not(.btn-primary)::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -5px;
    left: 0;
    background-color: var(--secondary-color);
    transition: var(--transition);
}

.nav-links a:not(.btn-primary):hover::after {
    width: 100%;
}

.mobile-menu-toggle {
    display: none; /* Hidden by default, shown on mobile */
    color: var(--white);
    font-size: 24px;
    cursor: pointer;
}

.nav-overlay {
    display: none; /* Hidden by default, shown when mobile menu is active */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
}

/* Mobile Nav Links (Initially hidden, revealed with JS) */
.nav-links.active {
    display: flex; /* Overrides `display: none` from media query */
    flex-direction: column;
    position: fixed;
    top: 0;
    right: 0;
    width: 300px;
    height: 100%;
    background: var(--dark-color);
    padding: 60px 20px;
    transform: translateX(100%); /* Start off-screen */
    transition: transform 0.3s ease-in-out;
    z-index: 1000;
}

.nav-links.active.show {
    transform: translateX(0); /* Slide in */
}

.nav-links.active a {
    font-size: 1.2rem;
    padding: 15px 0;
    width: 100%;
    text-align: center;
    color: var(--white); /* Ensure mobile links are white */
}

.nav-links.active .btn-primary {
    margin-top: 20px;
    width: auto;
}

.close-menu {
    display: none; /* Hidden by default, shown with mobile menu */
    position: absolute;
    top: 20px;
    right: 20px;
    color: var(--white);
    font-size: 24px;
    cursor: pointer;
}

.nav-links.active .close-menu {
    display: block;
}


/* Hero Section (index.html) */
.hero,
.about-section,
.ourwork-section { /* Grouping similar hero-style sections */
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 120px 5% 80px;
    max-width: var(--max-content-width);
    margin: 0 auto;
    position: relative;
    color: var(--dark-color);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

/* Specific background images */
.hero { background-image: url('./Image_fx (88).jpg'); }
.about-section { background-image: url('./WhatsApp Image 2025-05-31 at 05.38.35(1).jpg'); }
.ourwork-section { background-image: url('./Image_fx (88).jpg'); } /* Duplicate, keep as is for now */


.hero-content {
    position: relative;
    z-index: 2;
    width: 50%;
    text-align: left;
}

.hero-content h1 {
    font-size: 3.5rem;
    margin-bottom: 24px;
    line-height: 1.2;
    color: var(--white);
}

.hero-content p {
    font-size: 1.2rem;
    margin-bottom: 40px;
    color: #DDA0DD;
}

.cta-buttons {
    display: flex;
    gap: 20px;
}

.hero-image {
    width: 40%;
    max-width: 500px;
    position: relative;
    z-index: 2;
}

.hero-image img {
    width: 100%;
    height: auto;
    object-fit: cover;
}


/* Mission Statement Section & Why We Exist Section (Symmetrical Layouts) */
.mission-statement-section,
.why-we-exist-section {
    background-color: var(--white);
    display: flex;
    flex-direction: row; /* Default for desktop */
    align-items: stretch;
    justify-content: center;
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: var(--section-padding-y) 0;
    flex-wrap: wrap; /* Allows wrapping on smaller screens */
}

.mission-image-container,
.why-we-exist-image-container {
    flex: 0 0 50%;
    max-width: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    box-sizing: border-box;
}

.mission-image-container {
    padding-left: var(--section-padding-x);
}

.why-we-exist-image-container {
    padding-right: var(--section-padding-x);
}

.mission-image-container img,
.why-we-exist-image-container img {
    max-width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
    border-radius: var(--border-radius);
}

.mission-text-container,
.why-we-exist-text-container {
    flex: 0 0 50%;
    max-width: 50%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 40px var(--section-padding-x);
    box-sizing: border-box;
    text-align: left;
}

.mission-text-container .mission-subheading,
.why-we-exist-text-container .why-we-exist-subheading {
    font-family: var(--font-primary);
    font-size: 0.9em;
    font-weight: 700;
    color: var(--primary-color);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 10px;
}

.mission-text-container h2,
.why-we-exist-text-container h2 {
    font-family: var(--font-secondary);
    font-size: 2.8em;
    font-weight: 700;
    line-height: 1.2;
    color: var(--dark-color);
    margin-bottom: 25px;
}

.mission-text-container p,
.why-we-exist-text-container p {
    font-family: var(--font-primary);
    font-size: 1.05em;
    line-height: 1.6;
    color: var(--dark-color);
    margin-bottom: 0;
}

.why-we-exist-text-container p:last-of-type {
    margin-bottom: 0;
}

/* Introduction and Resources Section */
.introduction-and-resources {
    text-align: center;
    padding: 0px 0%; /* Consider adding horizontal padding for mobile */
    background: #ffffff;
}

.gwc-top-banner {
    background-color: rgba(255, 110, 178, 0.829);
    text-align: center;
    padding: 10px 0;
    font-size: 0.9em;
    color: var(--white);
    margin-bottom: 20px;
}

.gwc-top-banner a {
    color: var(--primary-color);
    font-weight: 600;
}

.gwc-top-banner a:hover {
    text-decoration: underline;
}

/* --- MODIFIED: "Who we are, What we do, How we do it" layout on mobile --- */
.custom-info-section {
    display: flex;
    justify-content: center; /* Center them on large screens */
    gap: 40px; /* Increase gap for better separation on large screens */
    max-width: 1000px; /* Slightly increase max-width to give more room if needed, or remove */
    margin: 0 auto 20px;
    flex-wrap: nowrap; /* Prevents wrapping on large screens */
    padding: 0 var(--section-padding-x);
}

.custom-info-box {
    flex: 0 0 30%; /* Gives each box a base width, they won't grow/shrink much */
    max-width: 300px; /* Limit individual box width */
    padding: 0 15px;
    min-width: 250px; /* Still ensures they don't get too small */
    text-align: center; /* Center text within boxes for consistent look */
}
/* --- END MODIFIED --- */

.custom-info-box h3 {
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 5px;
    color: var(--primary-color);
}

.custom-info-box p {
    font-size: 0.95rem;
    color: var(--dark-color);
}

/* Resources Offered Section */
.resources-offered-merged {
    background-color: var(--white);
    padding: 20px 0;
    text-align: center;
    max-width: 900px;
    margin: 0 auto;
}

.resources-offered-merged .section-title-center {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 20px;
}

.resources-offered-merged .resource-grid {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    gap: 15px;
    margin: 0 auto;
    flex-wrap: nowrap; /* Keep this for horizontal scroll on smaller screens if desired */
    overflow-x: auto; /* Enable horizontal scrolling */
    padding-bottom: 5px;
    padding: 0 var(--section-padding-x) 5px; /* Add horizontal padding */
    scroll-snap-type: x mandatory; /* Optional: for smoother scrolling */
}

.resources-offered-merged .resource-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 15px;
    flex-shrink: 0; /* Prevents items from shrinking too much */
    width: 140px; /* Fixed width for horizontal scroll */
    scroll-snap-align: start; /* Optional: for smoother scrolling */
}

.resources-offered-merged .icon-box {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: var(--light-color);
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
}

.resources-offered-merged .icon-box svg {
    width: 40px;
    height: 40px;
}

.resources-offered-merged .icon-box svg path {
    fill: var(--primary-color);
    stroke: var(--secondary-color);
    stroke-width: 1.5;
}

.resources-offered-merged .resource-item h3 {
    font-size: 1.1em;
    font-weight: 600;
    color: var(--dark-color);
    margin-bottom: 5px;
}
.thematic-icon{
    font-size: 2rem;
    color: var(--primary-color);
}

/* Mission Section */
.mission {
    background-color: var(--light-color);
    position: relative;
    background-image: url('./image_fx (47).jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    padding: 30px 0 var(--section-padding-y);
}

.mission::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1;
}

.mission .section-header {
    position: relative;
    z-index: 2;
    color: var(--white);
}

.mission .section-header h2 {
    color: var(--white);
}

.mission-content {
    display: flex;
    gap: 40px;
    justify-content: center;
    flex-wrap: wrap; /* Allows cards to wrap */
    position: relative;
    z-index: 2;
    padding: 0 var(--section-padding-x); /* Add horizontal padding */
}

.mission-card {
    background: var(--white);
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow-medium);
    flex: 1;
    min-width: 300px;
    max-width: 500px; /* Constrain max width for larger screens */
    position: relative;
    overflow: hidden;
    border: 1px solid var(--primary-color);
    text-align: center;
}

.mission-card h3 {
    font-size: 1.8rem;
    margin-bottom: 20px;
    position: relative;
    z-index: 2;
    color: var(--dark-color);
}

.mission-card p {
    font-size: 1.1rem;
    position: relative;
    z-index: 2;
    color: var(--dark-color);
}

.mission-icon {
    position: absolute;
    bottom: -20px;
    right: -20px;
    font-size: 10rem;
    opacity: 0.05;
    color: var(--primary-color);
    z-index: 1;
}

/* Team Portraits Section */
.team-portraits {
    background-color: var(--white);
    padding: 80px 0;
    overflow: hidden;
}

.team-portraits .portrait-grid {
    position: relative;
    width: 80%;
    max-width: 1200px;
    margin: 0 auto;
    height: 600px; /* Fixed height for desktop */
}

.team-portraits .portrait-item {
    position: absolute;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--box-shadow-medium);
    transition: transform 0.5s ease, box-shadow 0.5s ease;
}

.team-portraits .portrait-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.team-portraits .portrait-item:hover {
    transform: scale(1.05);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
    z-index: 10;
}

/* Desktop positions */
.team-portraits .item-1 { bottom: 120px; left: -8%; width: 300px; height: 300px; z-index: 4; }
.team-portraits .item-2 { top: 25px; left: -12.5%; width: 200px; height: 200px; z-index: 5; }
.team-portraits .item-3 { top: 80px; left: 35%; width: 300px; height: 300px; z-index: 6; }
.team-portraits .item-4 { bottom: 80px; left: calc(40% - 160px); width: 200px; height: 200px; z-index: 6; }
.team-portraits .item-5 { bottom: 160px; right: 7%; width: 250px; height: 250px; z-index: 5; }
.team-portraits .item-6 { top: 10px; right: -12%; width: 250px; height: 300px; z-index: 4; }
.team-portraits .item-7 { bottom: 120px; right: -10%; width: 200px; height: 200px; z-index: 5; }


/* Research Showcase Section */
.research-showcase {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #1a0033;
    color: var(--white);
    position: relative;
    min-height: 550px; /* Keep a minimum height for desktop */
    overflow: hidden;
    padding: var(--section-padding-y) var(--section-padding-x);
    flex-direction: row; /* Default for desktop */
    max-width: var(--max-content-width); /* Ensure it respects max content width */
    margin: 0 auto; /* Center the whole section on wide screens */
}

.research-showcase .text-column {
    flex: 1;
    padding-right: 40px;
    max-width: 50%;
}

.research-showcase .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 3.8em;
    font-weight: bold;
    line-height: 1.2;
    color: var(--white);
    margin: 0;
}

.research-showcase .highlight {
    color: #DDA0DD;
    font-style: italic;
}

.research-showcase .image-collage {
    flex: 1;
    position: relative;
    height: 450px; /* Fixed height for desktop */
    max-width: 50%;
    min-height: 250px; /* Ensure some height on smaller screens */
}

.research-showcase .img-large {
    width: 80%; /* Relative to parent .image-collage */
    height: 90%; /* Relative to parent .image-collage */
    object-fit: cover;
    position: absolute; /* Keep absolute positioning */
    top: 0;
    left: 20%;
    border-radius: 8px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    z-index: 1;
}

.research-showcase .img-small {
    width: 55%; /* Relative to parent .image-collage */
    height: 55%; /* Relative to parent .image-collage */
    object-fit: cover;
    position: absolute; /* Keep absolute positioning */
    bottom: 0;
    left: 0;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    z-index: 2;
    border-radius: 8px;
}


.research-showcase .image-collage img:hover {
    transform: scale(1.03);
}

/* Program Benefits Section */
.program-benefits {
    background-color: #1a0033;
    padding: var(--section-padding-y) var(--section-padding-x);
}

.program-benefits .benefits-grid {
    display: flex;
    gap: 40px;
    max-width: 1200px;
    margin: 0 auto;
    flex-wrap: wrap; /* Allows benefits to wrap on smaller screens */
}

.program-benefits .benefit-item {
    flex: 1;
    background-color: rgba(255, 255, 255, 0.05);
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: var(--transition);
    min-width: 280px; /* Ensure items don't get too small */
}

.program-benefits .benefit-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow-medium);
}

.program-benefits .benefit-item h3 {
    font-family: 'Playfair Display', serif;
    font-size: 1.6em;
    color: #DDA0DD;
    margin-bottom: 20px;
    line-height: 1.4;
}

.program-benefits .benefit-item p {
    font-size: 1.1em;
    line-height: 1.6;
    color: var(--white);
}

.program-benefits .benefit-item sup {
    font-size: 0.7em;
    vertical-align: super;
    margin-left: 2px;
    color: #DDA0DD;
}

/* AI Section (Narrative4 style sections) */
.ai-section {
    position: relative;
    padding: 20px 0;
    width: 100%;
    margin: 0;
}

#movement-building.ai-section { background-color: #8c3e88; }
#political-advocacy.ai-section { background-color: #487403; }
#economic-equity.ai-section { background-color: #E95D0F; }
#gender-justice.ai-section { background-color: #F5B700; }

.ai-container {
    max-width: var(--max-content-width);
    width: 100%;
    margin: 0 auto;
    padding: 0 var(--section-padding-x);
}

.ai-content-wrapper {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow-light);
    color: var(--white);
    position: relative;
    overflow: hidden;
    flex-direction: row; /* Default for desktop */
    background: var(--image-overlay-gradient);
    /* These ensure the background image stretches full width if needed, but text stays within container */
    width: calc(100% + 2 * var(--section-padding-x));
    margin-left: calc(-1 * var(--section-padding-x));
    margin-right: calc(-1 * var(--section-padding-x));
}

.ai-section:nth-of-type(even) .ai-content-wrapper {
    flex-direction: row-reverse; /* Default for desktop */
}

.ai-text {
    flex: 1;
}

.ai-text h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: var(--white);
}

.ai-text p {
    font-size: 1.1rem;
    margin-bottom: 20px;
    color: var(--white);
}

.ai-text ul {
    list-style: none;
    padding-left: 0;
    margin-bottom: 20px;
}

.ai-text ul li {
    margin-bottom: 10px;
    position: relative;
    padding-left: 25px;
    color: var(--white);
}

/* FONT AWESOME FIX - ensure you link FA6 CDN in your HTML */
.ai-text ul li::before {
    content: "\f00c"; /* Unicode for checkmark */
    font-family: "Font Awesome 6 Free"; /* CORRECTED for FA6 */
    font-weight: 900; /* Checkmark is a solid icon */
    color: var(--secondary-color);
    position: absolute;
    left: 0;
    top: 0;
}

.ai-image {
    flex: 1;
    width: 100%;
    display: flex; /* Changed to flex for centering */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: relative;
    z-index: 2;
}

.ai-image img {
    width: 100%;
    max-width: 600px;
    height: auto;
    aspect-ratio: 1 / 1;
    object-fit: contain;
    border: 5px solid var(--secondary-color);
    border-top-right-radius: 50px;
    border-bottom-left-radius: 50px;
    box-shadow: var(--box-shadow-medium);
    transition: var(--transition);
}

.ai-image img:hover {
    transform: scale(1.02);
}

/* Learn More Button */
.learn-more-btn {
    margin-top: 20px;
    z-index: 2;
    display: inline-block;
    padding: 12px 28px;
    border-radius: var(--button-border-radius);
    font-weight: 600;
    text-align: center;
    transition: var(--transition);
    cursor: pointer;
    border: none;
    font-size: 16px;
    text-transform: capitalize;
    background: var(--gradient-1);
    color: var(--white);
    box-shadow: 0 5px 15px rgba(var(--primary-color), 0.3);
}

.learn-more-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(var(--primary-color), 0.4);
}

/* Contact Section */
.contact {
    background-color: var(--light-color);
    position: relative;
    background-image: url('./image_fx (43).jpg');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    padding: var(--section-padding-y) 0;
}

.contact::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1;
}

.contact .section-header {
    position: relative;
    z-index: 2;
    color: var(--white);
}

.contact .section-header h2 {
    color: var(--white);
}

.contact-container {
    display: flex;
    flex-wrap: wrap; /* Allows columns to wrap */
    gap: 50px;
    position: relative;
    z-index: 2;
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding: 0 var(--section-padding-x);
}

.contact-form {
    flex: 1;
    min-width: 300px; /* Minimum width for form */
    background-color: var(--white);
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow-medium);
}

.form-group {
    margin-bottom: 25px;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 15px;
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
    font-family: var(--font-primary);
    font-size: 16px;
    transition: var(--transition);
    background-color: var(--light-color);
    color: var(--dark-color);
}

.form-group input::placeholder,
.form-group textarea::placeholder {
    color: var(--dark-color);
    opacity: 0.6;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(var(--primary-color), 0.1);
}

.contact-info {
    flex: 1;
    min-width: 300px; /* Minimum width for info column */
    padding-left: 30px;
    border-left: 1px solid var(--primary-color);
    color: var(--white);
}

.contact-info h3 {
    font-size: 1.8rem;
    margin-bottom: 30px;
    color: var(--white);
}

.social-icons {
    display: flex;
    gap: 15px;
    margin-bottom: 30px;
    justify-content: center; /* Center icons on smaller screens */
}

.social-icons a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--light-color);
    color: var(--dark-color);
    font-size: 20px;
    transition: var(--transition);
}

.social-icons a:hover {
    background: var(--gradient-1);
    color: var(--white);
    transform: translateY(-3px);
}

.contact-details {
    margin-bottom: 40px;
}

.contact-details p {
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 15px;
    color: var(--white);
}

.contact-details i {
    color: var(--secondary-color);
    font-size: 20px;
}

.newsletter h4 {
    margin-bottom: 15px;
    font-size: 1.2rem;
    color: var(--white);
}

.newsletter-form {
    display: flex;
    width: 100%;
}

.newsletter-form input {
    flex: 1;
    padding: 15px;
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius) 0 0 var(--border-radius);
    font-family: var(--font-primary);
    font-size: 16px;
    background-color: var(--light-color);
    color: var(--dark-color);
}

.newsletter-form button {
    padding: 0 25px;
    background: var(--gradient-1);
    color: var(--white);
    border: none;
    border-radius: 0 var(--border-radius) var(--border-radius) 0;
    cursor: pointer;
    transition: var(--transition);
}

.newsletter-form button:hover {
    background: var(--primary-color);
}

/* Footer */
footer {
    background: var(--gradient-bg);
    padding: 100px var(--section-padding-x) 50px;
    color: var(--white);
    position: relative;
}

.footer-content {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 50px;
    max-width: var(--max-content-width);
    margin: 0 auto;
    margin-bottom: 60px;
}

.footer-logo {
    flex: 1;
    min-width: 250px; /* Ensure logo column doesn't get too narrow */
}

.footer-logo h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: var(--white);
}

.footer-logo p {
    color: var(--white);
    opacity: 0.8;
}

.footer-links {
    display: flex;
    flex: 2;
    flex-wrap: wrap; /* Allows link columns to wrap */
    gap: 30px;
}

.link-column {
    flex: 1;
    min-width: 150px; /* Minimum width for link columns */
}

.link-column h4 {
    color: var(--white);
    margin-bottom: 20px;
    font-size: 1.2rem;
}

.link-column a {
    display: block;
    margin-bottom: 12px;
    color: var(--white);
    transition: var(--transition);
}

.link-column a:hover {
    color: var(--primary-color);
    transform: translateX(5px);
}

.footer-bottom {
    max-width: var(--max-content-width);
    margin: 0 auto;
    padding-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.945);
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 20px;
    font-size: 0.9em;
}

.footer-legal {
    display: flex;
    gap: 20px;
    flex-wrap: wrap; /* Allows legal links to wrap */
}

.footer-legal a {
    color: var(--white);
}

.footer-legal a:hover {
    color: var(--primary-color);
}


/* ******************************************************************* */
/* RESPONSIVENESS (MEDIA QUERIES)                                    */
/* ******************************************************************* */

/* Tablet and Smaller Desktops (Max-width 992px) */
@media (max-width: 992px) {
    :root {
        --section-padding-y: 80px; /* Slightly less padding on smaller screens */
    }

    .section-title h2 {
        font-size: 2.2rem;
    }

    /* Header & Navigation */
    .nav-links {
        display: none; /* Hide desktop nav links */
    }
    .mobile-menu-toggle {
        display: block; /* Show mobile toggle */
    }
    .nav-links.active {
        /* These styles handle the open state of the mobile menu */
        display: flex; /* Ensure it's flex when active */
    }
    .close-menu {
        display: block; /* Show close button when active */
    }


    /* Hero Sections (Hero, About, Our Work) */
    .hero,
    .about-section,
    .ourwork-section {
        flex-direction: column; /* Stack content and image vertically */
        text-align: center;
        padding-top: calc(var(--header-height) + 40px); /* Adjust padding for header */
        min-height: 80vh; /* Adjust min-height */
        justify-content: center; /* Center content vertically when stacked */
    }

    .hero-content {
        width: 100%; /* Full width for content */
        max-width: 600px; /* Constrain text width */
        margin-bottom: 40px; /* Space between content and image */
        padding-right: 0; /* Remove right padding */
    }

    .hero-content h1 {
        font-size: 2.8rem; /* Smaller heading */
        margin-bottom: 15px;
    }

    .hero-content p {
        font-size: 1.1rem; /* Smaller paragraph */
        margin-bottom: 30px;
    }

    .cta-buttons {
        justify-content: center; /* Center buttons */
    }

    .hero-image {
        width: 80%; /* Larger image on mobile */
        max-width: 400px; /* Constrain image size */
        margin-top: 20px; /* Space from buttons */
    }

    /* Mission Statement & Why We Exist Sections */
    .mission-statement-section,
    .why-we-exist-section {
        flex-direction: column; /* Stack image and text */
        padding: var(--section-padding-y) var(--section-padding-x); /* Add horizontal padding */
    }

    .mission-image-container,
    .why-we-exist-image-container {
        flex: 0 0 100%; /* Full width */
        max-width: 100%;
        padding: 0; /* Remove side padding for images */
        margin-bottom: 30px; /* Space between image and text */
    }

    .mission-text-container,
    .why-we-exist-text-container {
        flex: 0 0 100%; /* Full width */
        max-width: 100%;
        padding: 0; /* Remove side padding for text */
        text-align: center; /* Center text */
    }

    .mission-text-container h2,
    .why-we-exist-text-container h2 {
        font-size: 2.2em; /* Smaller heading */
    }

    /* --- MODIFIED: "Who we are, What we do, How we do it" layout on mobile --- */
    .custom-info-section {
        flex-direction: column; /* Stack vertically for mobile */
        align-items: center; /* Center items when stacked */
        max-width: none; /* Allow it to take more width if needed, but still respects individual box min-width */
        padding: 0 var(--section-padding-x);
        gap: 30px; /* Add some space between stacked boxes */
        flex-wrap: wrap; /* Allow wrapping on smaller screens if they somehow don't stack */
    }

    .custom-info-box {
        width: 100%; /* Make each box take full width on mobile */
        min-width: unset; /* Remove min-width when stacked */
        max-width: 400px; /* Optional: limit max width even when stacked */
        padding: 0; /* Adjust padding as needed for mobile */
    }

    .custom-info-box h3,
    .custom-info-box p {
        text-align: center; /* Ensure text is centered within boxes on mobile */
    }
    /* --- END MODIFIED --- */

    /* Resources Offered Section */
    .resources-offered-merged .resource-grid {
        justify-content: flex-start; /* Align to start for horizontal scroll */
        padding: 0 var(--section-padding-x) 5px; /* Add padding for scrolling */
    }

    /* --- MODIFIED MISSION SECTION FOR TABLET & SMALL DESKTOPS --- */
    .mission-content {
        flex-direction: row; /* Keep as row for tablets */
        flex-wrap: wrap;     /* Allow cards to wrap to the next row */
        justify-content: center; /* Center the cards if there's an odd number */
        gap: 30px; /* Adjust gap for tablets */
        padding: 0 var(--section-padding-x); /* Maintain horizontal padding */
    }
    .mission-card {
        flex: 0 0 calc(50% - 15px); /* Two columns, accounting for gap */
        max-width: calc(50% - 15px); /* Max width for two columns */
        min-width: 280px; /* Ensure they don't get too small (e.g., on a 600px tablet) */
        width: auto; /* Allow flex to manage width */
        padding: 30px; /* Slightly reduced padding for smaller two-column cards */
    }
    .mission-card h3 {
        font-size: 1.6rem; /* Smaller heading for two-column layout */
    }
    .mission-card p {
        font-size: 1em; /* Smaller paragraph for two-column layout */
    }
    .mission-icon {
        font-size: 8rem; /* Smaller icon for two-column layout */
        bottom: -15px;
        right: -15px;
    }
    /* --- END MODIFIED MISSION SECTION --- */

    /* MODIFIED: Research Showcase Section on mobile */
    .research-showcase {
        flex-direction: column; /* Stack text and image columns vertically */
        min-height: auto; /* Remove fixed min-height for flexibility on mobile */
        padding: 60px var(--section-padding-x); /* Adjust padding */
        text-align: center; /* Center the text */
    }

    .research-showcase .text-column {
        max-width: 100%; /* Full width for text */
        padding-right: 0; /* Remove right padding */
        margin-bottom: 40px; /* Space between text and image */
        text-align: center; /* Ensure text is centered */
    }

    .research-showcase .section-title {
        font-size: 2.5em; /* Adjust heading size for mobile */
    }

    .research-showcase .image-collage {
        max-width: 90%; /* Increase max-width of collage for mobile */
        width: 100%; /* Take full width of its parent */
        height: 60vw; /* Adjust height based on viewport width */
        min-height: 280px; /* Ensure a larger minimum height */
        position: relative;
        margin: 0 auto; /* Center the image collage */
    }

    .research-showcase .img-large {
        width: 90%; /* Relative to parent .image-collage */
        height: 90%; /* Relative to parent .image-collage */
        left: 5%; /* Adjust left position relative to new width */
        min-width: 250px; /* Ensure a good minimum width */
        min-height: 180px; /* Ensure a good minimum height */
        max-width: 450px; /* Limit max size */
        max-height: 350px; /* Limit max height */
    }

    .research-showcase .img-small {
        width: 65%; /* Relative to parent .image-collage */
        height: 65%; /* Adjust height for better proportion */
        bottom: 0;
        left: 0;
        min-width: 180px; /* Ensure a good minimum width */
        min-height: 120px; /* Ensure a good minimum height */
        max-width: 300px; /* Limit max size */
        max-height: 250px; /* Limit max height */
    }

    .research-showcase .yellow-dots {
        top: 10px; /* Adjust position */
        right: -10px; /* Adjust position */
        width: 60px; /* Smaller dots */
        height: 60px;
        background: radial-gradient(circle at 3px 3px, yellow 1px, transparent 1px) 0 0 / 8px 8px repeat;
    }

    /* Program Benefits Section */
    .program-benefits .benefits-grid {
        flex-direction: column; /* Stack benefits vertically */
        align-items: center;
        gap: 30px;
    }
    .program-benefits .benefit-item {
        width: 100%;
        max-width: 450px; /* Constrain max width for individual items */
    }


    /* --- MODIFIED TEAM PORTRAITS FOR TABLET AND SMALLER --- */
    .team-portraits .portrait-grid {
        height: 500px; /* Maintain a fixed height, scaled down */
        width: 90%; /* Adjust width to fit smaller screens */
        position: relative; /* Re-enable relative for absolute children */
        display: block; /* Override grid display */
        padding: 0; /* Remove padding */
        margin: 0 auto; /* Center the container */
    }

    .team-portraits .portrait-item {
        position: absolute; /* Keep absolute positioning */
        box-shadow: var(--box-shadow-light); /* Lighter shadow for mobile */
    }

    .team-portraits .portrait-item:hover {
        transform: none; /* Disable hover scale on mobile */
        box-shadow: var(--box-shadow-light);
    }

    /* Scaled-down positions for tablets and smaller desktops */
    .team-portraits .item-1 { bottom: 80px; left: -5%; width: 220px; height: 220px; z-index: 4; }
    .team-portraits .item-2 { top: 15px; left: -8%; width: 150px; height: 150px; z-index: 5; }
    .team-portraits .item-3 { top: 50px; left: 30%; width: 220px; height: 220px; z-index: 6; }
    .team-portraits .item-4 { bottom: 50px; left: calc(40% - 100px); width: 150px; height: 150px; z-index: 6; }
    .team-portraits .item-5 { bottom: 100px; right: 5%; width: 180px; height: 180px; z-index: 5; }
    .team-portraits .item-6 { top: 5px; right: -8%; width: 180px; height: 220px; z-index: 4; }
    .team-portraits .item-7 { bottom: 80px; right: -5%; width: 150px; height: 150px; z-index: 5; }
    /* --- END MODIFIED TEAM PORTRAITS --- */


    /* AI Sections (Narrative4 style sections) */
    .ai-content-wrapper {
        flex-direction: column; /* Stack text and image */
        padding: 30px;
        /* Remove full width stretch as it's for desktop edge-to-edge */
        width: 100%;
        margin-left: 0;
        margin-right: 0;
        text-align: center; /* Center content */
    }

    .ai-section:nth-of-type(even) .ai-content-wrapper {
        flex-direction: column; /* Ensure consistent stacking */
    }

    .ai-text {
        text-align: center; /* Center text for mobile */
    }

    .ai-text h2 {
        font-size: 2em; /* Adjust heading size */
    }

    .ai-text p {
        font-size: 1.1em;
    }

    .ai-text ul {
        text-align: left; /* Keep list items left-aligned */
        margin: 0 auto 20px;
        max-width: 90%; /* Constrain list width */
    }

    .ai-image {
        margin-top: 30px; /* Space between text and image */
        width: 70%; /* Adjust image width to be larger */
        max-width: 400px; /* Constrain max image size */
        display: block; /* Ensure it's a block for margin auto centering */
        margin-left: auto;
        margin-right: auto;
    }

    .ai-image img {
        border-top-right-radius: 20px; /* Smaller radius on mobile */
        border-bottom-left-radius: 20px; /* Smaller radius on mobile */
        border-width: 3px; /* Thinner border */
    }

    .learn-more-btn {
        margin: 20px auto 0; /* Center the button below content */
        display: table; /* Helps center a block element */
    }

    /* Contact Section */
    .contact-container {
        flex-direction: column; /* Stack form and info */
        gap: 30px;
    }
    .contact-form {
        min-width: unset;
        width: 100%;
        padding: 30px;
    }
    .contact-info {
        min-width: unset;
        width: 100%;
        padding-left: 0;
        border-left: none; /* Remove border */
        border-top: 1px solid var(--primary-color); /* Add top border for separation */
        padding-top: 30px;
        text-align: center;
    }
    .contact-info h3 {
        margin-bottom: 20px;
    }
    .social-icons {
        justify-content: center;
    }
    .contact-details p {
        justify-content: center;
    }
    .newsletter-form {
        flex-direction: column; /* Stack input and button */
        gap: 10px;
    }
    .newsletter-form input,
    .newsletter-form button {
        border-radius: var(--border-radius); /* Full border radius for stacked elements */
        width: 100%;
    }
    .newsletter-form button {
        padding: 15px 25px; /* Adjust button padding */
    }

   /* Footer */
    footer {
        padding: 60px var(--section-padding-x) 30px; /* Adjust padding */
    }
    .footer-content {
        flex-direction: column; /* Stack footer columns */
        gap: 30px;
        margin-bottom: 40px;
        text-align: center; /* Center text */
    }
    .footer-logo, .link-column {
        min-width: unset; /* Allow full width */
        width: 100%;
    }
    .link-column h4 {
        margin-bottom: 15px; /* Adjust spacing */
    }
    .link-column a {
        display: inline-block; /* Make links inline for horizontal alignment */
        margin: 0 10px 10px 10px; /* Add horizontal margin */
    }
    .footer-bottom {
        flex-direction: column; /* Stack copyright and legal links */
        text-align: center;
        gap: 15px;
    }
    .footer-legal {
        justify-content: center; /* Center legal links */
    }
}


/* Smaller Mobile Devices (Max-width 480px) */
@media (max-width: 480px) {
    .hero-content h1 {
        font-size: 2.2rem;
    }
    .hero-content p {
        font-size: 1rem;
    }
    .btn-primary {
        padding: 10px 20px;
        font-size: 14px;
    }

    /* REFINED: Research Showcase Section for very small screens */
    .research-showcase {
        text-align: center; /* Ensure text remains centered on very small screens */
        padding: 40px var(--section-padding-x); /* Adjust padding for very small screens */
    }
    .research-showcase .section-title {
        font-size: 1.8em; /* Further adjust title size if needed */
    }

    .research-showcase .image-collage {
        height: 80vw; /* Further adjust height to ensure images are large enough */
        min-height: 180px; /* Maintain a reasonable min-height */
        max-width: 100%; /* Allow collage to be full width on very small screens */
        margin: 0 auto; /* Ensure it's centered */
    }

    .research-showcase .img-large {
        width: 95%; /* Make it nearly full width on very small screens */
        height: 65%; /* Adjusted height relative to new width */
        left: 2.5%; /* Keep it slightly off center */
        min-width: 180px; /* Ensure a meaningful minimum size */
        min-height: 120px;
    }

    .research-showcase .img-small {
        width: 70%; /* Adjust width for better overlap */
        height: 40%; /* Adjust height relative to new width */
        min-width: 120px; /* Ensure a meaningful minimum size */
        min-height: 80px;
    }

    .research-showcase .yellow-dots {
        display: none; /* Hide on very small screens for less clutter */
    }

    /* --- MODIFIED MISSION SECTION FOR VERY SMALL PHONES (RECTANGULAR) --- */
    .mission-content {
        flex-direction: column; /* Force stacking on small phones */
        align-items: center; /* Center cards when stacked */
        gap: 20px; /* Reduce gap further for smaller screens */
        padding: 0 var(--section-padding-x); /* Maintain horizontal padding */
    }
    .mission-card {
        width: 90%; /* Take 90% width to leave some side padding */
        max-width: 400px; /* Allow cards to be wider than 350px, but constrain max */
        min-width: unset; /* Remove min-width to allow shrinking if needed, but width 90% should prevent too small */
        padding: 30px 25px; /* Adjust padding: more vertical, less horizontal if needed */
        height: auto; /* Allow height to adjust based on content */
        /* To make it more rectangular, you can play with padding or set a specific aspect ratio if content allows */
    }
    .mission-card h3 {
        font-size: 1.6rem; /* Keep heading size readable */
    }
    .mission-card p {
        font-size: 1em; /* Keep paragraph size readable */
    }
    .mission-icon {
        font-size: 7rem; /* Adjust icon size */
        bottom: -10px;
        right: -10px;
    }
    /* --- END MODIFIED MISSION SECTION --- */

    
    /* --- FURTHER MODIFIED TEAM PORTRAITS FOR VERY SMALL PHONES --- */
    .team-portraits .portrait-grid {
        height: 400px; /* Even smaller fixed height for very small phones */
        width: 95%; /* Make it almost full width */
    }

    /* Scaled-down positions for very small phones */
    .team-portraits .item-1 { bottom: 60px; left: -3%; width: 180px; height: 180px; z-index: 4; }
    .team-portraits .item-2 { top: 10px; left: -5%; width: 120px; height: 120px; z-index: 5; }
    .team-portraits .item-3 { top: 40px; left: 25%; width: 180px; height: 180px; z-index: 6; }
    .team-portraits .item-4 { bottom: 40px; left: calc(35% - 80px); width: 120px; height: 120px; z-index: 6; }
    .team-portraits .item-5 { bottom: 80px; right: 3%; width: 150px; height: 150px; z-index: 5; }
    .team-portraits .item-6 { top: 3px; right: -5%; width: 150px; height: 180px; z-index: 4; }
    .team-portraits .item-7 { bottom: 60px; right: -3%; width: 120px; height: 120px; z-index: 5; }
    /* --- END FURTHER MODIFIED TEAM PORTRAITS --- */

    .ai-text h2 {
        font-size: 1.8em;
    }
    .ai-text p {
        font-size: 1em;
    }

    /* AI Section (Narrative4 style sections) for very small screens */
    .ai-content-wrapper {
        padding: 15px; /* Further reduce padding on very small screens */
    }

    .ai-image {
        width: 95%; /* Make image take more width on small phones */
        max-width: 280px; /* Adjust max width */
    }

    /* Footer - ensuring row layout on smallest screens */
    .footer-links {
        flex-direction: row; /* Explicitly keep as row */
        flex-wrap: wrap; /* Allow wrapping */
        justify-content: space-around; /* Distribute space evenly */
        gap: 15px; /* Adjust gap */
    }
    .link-column {
        flex: 1 1 30%; /* Gives each column a base of 30%, allowing 3 per row if space, or 2 then 1 */
        min-width: 100px; /* Smallest it can go */
        max-width: 150px; /* Keep them from getting too wide */
    }
}